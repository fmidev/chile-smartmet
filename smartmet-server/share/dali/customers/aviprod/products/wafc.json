{
    "title":"WAFC",
    "producer":"wafs",
    "refs":{
        "myprojection":{
            "xsize":1025,
            "ysize":712,
            "crs":"+proj=laea +lat_0=60 +lon_0=20 +units=m +ellps=WGS84",
            //"crs":"+proj=stere +lat_0=60 +lon_0=20 +lat_ts=60.000000 +lon_ts=20.000000 +k=1.000000 +x_0=3500000 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m  no_defs",
            //"crs":"EPSG:4326",
            "bboxcrs":"EPSG:4326",
            "cy":53,
            "cx":05,
            "resolution":6
        }
    },
    "projection":"ref:refs.myprojection",
    "defs":{
        "styles":{
            ".Label":{
                "font":"Arial",
                "font-size":9
            },
            ".Units":{
                "font":"Arial",
                "font-size":11
            }
        },
        "layers":[
            
        ]
    },
    "views":[
        {
            "qid":"v1-",
            "attributes":{
                "id":"view1"
            },
            "layers":[
                {
                    "qid":"sea",
                    "layer_type":"background",
                    "css":"maps/map.css",
                    "attributes":{
                        "class":"Sea"
                    }
                },
                {
                    "qid":"europe",
                    "layer_type":"map",
                    "map":{
                        "schema":"vmap",
                        "table":"world_country2009_wgs84"
                    },
                    "attributes":{
                        "class":"Europe"
                    }
                },
                {
                    "qid":"lakes",
                    "layer_type":"map",
                    "map":{
                        "schema":"esri",
                        "table":"europe_mjwater_eureffin"
                    },
                    "attributes":{
                        "class":"Sea"
                    }
                },
                {
                    "qid":"borders",
                    "layer_type":"map",
                    "map":{
                        "lines":true,
                        "schema":"vmap",
                        "table":"world_country2009_wgs84",
                        "minarea":200
                    },
                    "attributes":{
                        "class":"Border"
                    }
                },
              {
                "qid": "graticule",
                "layer_type": "symbol",
                "symbol": "dot",
                "css": "symbols/dot.css",
                "positions":
                {
                  "layout": "graticule",
                  "size": 10,
                  "step": 1
                }
              },
              
              {
                    "qid":"temperatureStroke",
                    "level":850,
                    "layer_type":"number",
                    "css":"numbers/numbers.css",
                    "parameter":"Temperature",
                    "attributes":{
                        "class":"NumberStroke",
                        "mask":"url(#legendmask)"
                    },
                    "label":{
                        "dx":0,
                        "dy":5,
                        "precision":0,
                        "missing":"-",
                        "minusprefix":"",
                        "plusprefix":"+"
                    },
                    
                    "positions":{
                        
                        //"layout":"data",
                        "x":35,
                        "y":35,
                        "dx":50,
                        "dy":50,
                        "ddx":35
                    }
                },
                {
                    "qid":"temperature",
                    "level":850,
                    "layer_type":"number",
                    "css":"numbers/numbers.css",
                    "parameter":"Temperature",
                    "attributes":{
                        "class":"Number",
                        "mask":"url(#legendmask)"
                    },
                    "label":{
                        "dx":0,
                        "dy":5,
                        "precision":0,
                        "missing":"-",
                        "minusprefix":"",
                        "plusprefix":"+"
                    },
                    
                    "positions":{
                      "layout":"graticulefill",
                      "mindistance": 30,
                      "directionoffset": 10,
                      "rotate": -45,
                      "u": "WindUMS",
                      "v": "WindVMS"

                    }
                },
                {
                    "qid":"wind",
                    "level":850,
                    "layer_type":"arrow",
                    "arrows":"json:arrows/windbarb.json",
                    "multiplier":1.94384449244,
                    //toknots
                    "css":"arrows/windbarb.css",
                    "southflop":true,
                    "scale":0.9,
                    "u":"WindUMS",
                    "v":"WindVMS",
                    "attributes":{
                        "id":"wind_arrows"
                    },
                    "positions":{
                      "layout":"graticulefill",
                      "mindistance": 30
                    }
                },
                {
                    "tag":"g",
                    "qid":"legend-rect-1",
                    "attributes":{
                        "id":"legendmask"
                    },
                    "layers":[
                        {
                            "tag":"rect",
                            "qid":"lrect",
                            "attributes":{
                                "fill":"white",
                                "stroke":"black",
                                "width":"335px",
                                "height":"120px",
                                "rx":"3"
                            }
                        }
                    ]
                },
                {
                    "tag":"g",
                    "qid":"legend-rect-2",
                    "attributes":{
                        "id":"legendmask2"
                    },
                    "layers":[
                        {
                            "tag":"rect",
                            "qid":"lrect",
                            "attributes":{
                                "x":"0",
                                "y":"120",
                                "fill":"white",
                                "stroke":"black",
                                "width":"335px",
                                "height":"60px",
                                "rx":"3"
                            }
                        }
                    ]
                },
                {
                    "tag":"text",
                    "cdata":"ISSUED BY WAFC London",
                    "attributes":{
                        "x":170,
                        "y":5,
                        "dy":14,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "tag":"text",
                    "cdata":"PROVIDED BY FMI",
                    "attributes":{
                        "x":170,
                        "y":20,
                        "dy":14,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "tag":"text",
                    "cdata":"WIND/TEMPERATURE",
                    "attributes":{
                        "x":170,
                        "y":35,
                        "dy":14,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "qid":"fl",
                    "tag":"text",
                    "cdata":"LEVEL",
                    "attributes":{
                        "x":170,
                        "y":65,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "tag":"text",
                    "cdata":"FIXED TIME PROGNOSTIC CHART",
                    "attributes":{
                        "x":170,
                        "y":80,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "qid":"time-valid",
                    "layer_type":"time",
                    "timestamp":"validtime",
                    "timezone":"utc",
                    "format":"VALID %H UTC %d %h %Y",
                    "x":170,
                    "y":95,
                    "attributes":{
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "qid":"time-based",
                    "layer_type":"time",
                    "timestamp":"origintime",
                    "timezone":"utc",
                    "format":"BASED ON %H UTC DATA ON  %d %h %Y",
                    "x":170,
                    "y":110,
                    "attributes":{
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "tag":"text",
                    "cdata":"Unit used: knots, degrees Celsius",
                    "attributes":{
                        "x":170,
                        "y":140,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "tag":"text",
                    "cdata":"Temperatures negative unless",
                    "attributes":{
                        "x":170,
                        "y":155,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                },
                {
                    "tag":"text",
                    "cdata":"prefixed by a + or PS",
                    "attributes":{
                        "x":170,
                        "y":170,
                        "text-anchor":"middle",
                        "font-family":"Verdana",
                        "font-size":15
                    }
                }
            ]
        }
    ]
}
